<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–§–æ—Ä–º–∞ –≤–≤–µ–¥–µ–Ω–Ω—è —Ç–∞ –∞–Ω–∞–ª—ñ–∑—É –¥–∞–Ω–∏—Ö</title>
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
<style>
    body {
        font-family: 'Arial', sans-serif;
        margin: 0;
        padding: 0;
        background: linear-gradient(135deg, #2c3e1d 0%, #1a2a0c 100%);
        display: flex;
        justify-content: center;
        align-items: flex-start;
        min-height: 100vh;
        padding-bottom: 120px;
    }

    .calculator {
        background: linear-gradient(to bottom, #3a4d2a 0%, #2c3e1d 100%);
        padding: 20px;
        border-radius: 12px;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.5);
        width: 100%;
        max-width: 480px;
        box-sizing: border-box;
        border: 2px solid #5a6b3a;
        margin-top: 20px;
    }

    .calculator input[type="text"],
    .calculator select {
        width: 100%;
        margin-bottom: 12px;
        padding: 12px;
        border: 2px solid #5a6b3a;
        border-radius: 8px;
        font-size: 18px;
        box-sizing: border-box;
        background-color: #2c3e1d;
        color: #e0d8b0;
        font-weight: bold;
    }

    .calculator input[type="text"]::placeholder {
        color: #8a9470;
        font-weight: normal;
    }

    .calculator p, .calculator label {
        font-size: 18px;
        margin-bottom: 6px;
        color: #e0d8b0;
        font-weight: bold;
    }

    #results {
        font-size: 16px;
        color: #ffcc00;
        margin-top: 20px;
        padding: 15px;
        background-color: #1a2a0c;
        border: 2px solid #5a6b3a;
        border-radius: 8px;
        word-break: break-word;
        white-space: pre-wrap;
        min-height: 100px;
        font-family: 'Courier New', monospace;
        box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.3);
    }

    /* üîò –§—ñ–∫—Å–æ–≤–∞–Ω–∞ –ø–∞–Ω–µ–ª—å –∫–Ω–æ–ø–æ–∫ –≤ –æ–¥–∏–Ω —Ä—è–¥ */
    .bottom-bar {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background: linear-gradient(to top, #2c3e1d 0%, #1a2a0c 100%);
        border-top: 3px solid #8b4513;
        display: flex;
        flex-direction: row;
        gap: 10px;
        padding: 15px;
        z-index: 100;
        box-shadow: 0 -5px 15px rgba(0,0,0,0.6);
    }

    .bottom-bar button {
        flex: 1;
        padding: 16px 8px;
        font-size: 18px;
        font-weight: bold;
        border: 2px solid #8b4513;
        border-radius: 8px;
        cursor: pointer;
        background: linear-gradient(to bottom, #5a6b3a 0%, #3a4d2a 100%);
        color: #ffcc00;
        transition: all 0.3s ease;
        text-transform: uppercase;
        letter-spacing: 1px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        min-width: 0;
    }

    .bottom-bar button:hover {
        background: linear-gradient(to bottom, #6a7b4a 0%, #4a5d3a 100%);
        transform: translateY(-2px);
        box-shadow: 0 6px 8px rgba(0, 0, 0, 0.4);
    }

    .bottom-bar button:active {
        transform: translateY(0);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }

    .bottom-bar button.menu-btn {
        background: linear-gradient(to bottom, #8b4513 0%, #6b3513 100%);
        border-color: #a0522d;
        flex: 0.8;
    }

    .bottom-bar button.menu-btn:hover {
        background: linear-gradient(to bottom, #9b5513 0%, #7b4513 100%);
    }

    /* –ù–û–í–ê –°–¢–†–£–ö–¢–£–†–ê: –ª–µ–π–±–ª –∑–ª—ñ–≤–∞, –ø–æ–ª–µ —Å–ø—Ä–∞–≤–∞ */
    .form-row {
        display: flex;
        align-items: center;
        margin-bottom: 15px;
        padding: 10px;
        background-color: rgba(28, 40, 18, 0.7);
        border-radius: 10px;
        border: 1px solid #5a6b3a;
    }

    .form-row label {
        flex: 1;
        margin-bottom: 0;
        margin-right: 15px;
        color: #ffcc00;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        white-space: nowrap;
    }

    .form-row input,
    .form-row select {
        flex: 2;
        margin-bottom: 0;
        min-width: 0;
    }

    .crew-member-row {
        display: flex;
        gap: 10px;
        margin-bottom: 12px;
        align-items: center;
        padding: 10px;
        background-color: rgba(28, 40, 18, 0.5);
        border-radius: 8px;
        border: 1px solid #5a6b3a;
    }

    .crew-member-row input {
        flex: 3;
        background-color: #2c3e1d;
        border-color: #8b4513;
        color: #e0d8b0;
        margin-bottom: 0;
    }

    .crew-member-row select {
        flex: 1;
        min-width: 80px;
        background-color: #2c3e1d;
        border-color: #8b4513;
        color: #ffcc00;
        font-weight: bold;
        margin-bottom: 0;
    }

    h2 {
        color: #ffcc00;
        text-align: center;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
        margin-bottom: 15px;
        border-bottom: 2px solid #8b4513;
        padding-bottom: 8px;
        font-size: 22px;
        margin-top: 25px;
    }

    h2:first-of-type {
        margin-top: 0;
    }

    select option {
        background-color: #2c3e1d;
        color: #ffcc00;
        padding: 10px;
    }

    /* –ö–∞–º—É—Ñ–ª—è–∂–Ω–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ */
    .calculator::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 5px;
        background: repeating-linear-gradient(
            45deg,
            #8b4513,
            #8b4513 10px,
            #5a6b3a 10px,
            #5a6b3a 20px
        );
        border-radius: 12px 12px 0 0;
    }

    /* –°—Ç–∏–ª—å –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–æ–ª—è */
    input:focus, select:focus {
        outline: none;
        border-color: #ffcc00;
        box-shadow: 0 0 0 3px rgba(255, 204, 0, 0.2);
    }

    /* –ê–¥–∞–ø—Ç–∏–≤–Ω—ñ—Å—Ç—å –¥–ª—è –º–∞–ª–∏—Ö –µ–∫—Ä–∞–Ω—ñ–≤ */
    @media (max-width: 480px) {
        .bottom-bar button {
            font-size: 16px;
            padding: 14px 6px;
            letter-spacing: 0.5px;
        }
        
        .bottom-bar button.menu-btn {
            flex: 0.7;
        }
        
        .form-row {
            flex-direction: column;
            align-items: flex-start;
        }
        
        .form-row label {
            margin-right: 0;
            margin-bottom: 8px;
            width: 100%;
        }
        
        .form-row input,
        .form-row select {
            width: 100%;
        }
        
        .crew-member-row {
            flex-direction: column;
        }
        
        .crew-member-row input,
        .crew-member-row select {
            width: 100%;
        }
    }
</style>
</head>

<body>

<div class="calculator">
    <!-- –ï–∫—ñ–ø–∞–∂: –ª–µ–π–±–ª –∑–ª—ñ–≤–∞, –ø–æ–ª–µ —Å–ø—Ä–∞–≤–∞ -->
    <div class="form-row">
        <label>ü™ñ –ï–∫—ñ–ø–∞–∂:</label>
        <input type="text" id="crew-input" oninput="saveCrewText()" placeholder="–í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É –µ–∫—ñ–ø–∞–∂—É">
    </div>

    <!-- –í–∏—ó–∑–¥ –Ω–∞ –ø–æ–∑–∏—Ü—ñ—é: –ª–µ–π–±–ª –∑–ª—ñ–≤–∞, –ø–æ–ª–µ —Å–ø—Ä–∞–≤–∞ -->
    <div class="form-row">
        <label>üìç –í–∏—ó–∑–¥ –Ω–∞ –ø–æ–∑–∏—Ü—ñ—é:</label>
        <select id="ovp-select" onchange="saveOvpSelection()">
            <option value=""></option>
            <option>–û–í–ü</option>
            <option>–ó–í–ü-1</option>
            <option>–ó–í–ü-2</option>
            <option>–ó–í–ü-3</option>
            <option>–ó–í–ü-4</option>
            <option>–ó–í–ü-5</option>
            <option>–ó–í–ü-6</option>
            <option>–°–æ—Å–Ω–æ–≤–∏–π –ë—ñ—Ä</option>
        </select>
    </div>

    <h2>üë• –î–∞–Ω—ñ —á–ª–µ–Ω—ñ–≤ –µ–∫—ñ–ø–∞–∂—É</h2>

    <div class="crew-member-row">
        <input id="text1-input" 
               placeholder="–ü—Ä—ñ–∑–≤–∏—â–µ —Ç–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª–∏" 
               oninput="saveTextFields()">
        <select class="selection" onchange="saveSelections()">
            <option>–ë–ß</option>
            <option>–ü–ü–î</option>
        </select>
    </div>

    <div class="crew-member-row">
        <input id="text2-input" 
               placeholder="–ü—Ä—ñ–∑–≤–∏—â–µ —Ç–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª–∏" 
               oninput="saveTextFields()">
        <select class="selection" onchange="saveSelections()">
            <option>–ë–ß</option>
            <option>–ü–ü–î</option>
        </select>
    </div>

    <div class="crew-member-row">
        <input id="text3-input" 
               placeholder="–ü—Ä—ñ–∑–≤–∏—â–µ —Ç–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª–∏" 
               oninput="saveTextFields()">
        <select class="selection" onchange="saveSelections()">
            <option>–ë–ß</option>
            <option>–ü–ü–î</option>
        </select>
    </div>

    <div class="crew-member-row">
        <input id="text4-input" 
               placeholder="–ü—Ä—ñ–∑–≤–∏—â–µ —Ç–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª–∏" 
               oninput="saveTextFields()">
        <select class="selection" onchange="saveSelections()">
            <option>–ë–ß</option>
            <option>–ü–ü–î</option>
        </select>
    </div>

    <div id="results"></div>
</div>

<!-- üîò –§—ñ–∫—Å–æ–≤–∞–Ω–∞ –ø–∞–Ω–µ–ª—å –∫–Ω–æ–ø–æ–∫ –≤ –æ–¥–∏–Ω —Ä—è–¥ -->
<div class="bottom-bar">
    <button onclick="processResults()">üéØ –û–±—Ä–æ–±–∏—Ç–∏</button>
    <button onclick="shareResults()">üì§ –ü–µ—Ä–µ–¥–∞—Ç–∏</button>
    <button onclick="goMenu()" class="menu-btn">üè† –ú–µ–Ω—é</button>
</div>

<script>
function el(id){ return document.getElementById(id); }

window.onload = function(){
    // –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è crew-input —ñ ovp-select
    if(localStorage.crewText) el("crew-input").value = localStorage.crewText;
    if(localStorage.ovpSelection) el("ovp-select").value = localStorage.ovpSelection;

    // üîπ –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–æ–ª—ñ–≤ text1‚Äìtext4
    if(localStorage.textFields){
        const texts = JSON.parse(localStorage.textFields);
        el("text1-input").value = texts[0] || "";
        el("text2-input").value = texts[1] || "";
        el("text3-input").value = texts[2] || "";
        el("text4-input").value = texts[3] || "";
    }

    // üîπ –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è select –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ text-–ø–æ–ª—è (–ë–ß / –ü–ü–î)
    if(localStorage.selections){
        const sels = JSON.parse(localStorage.selections);
        const selects = document.querySelectorAll(".selection");
        selects.forEach((s, i) => {
            s.value = sels[i] || "–ë–ß"; // –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –ë–ß
        });
    }
};

function saveCrewText(){
    localStorage.crewText = el("crew-input").value;
}

function saveOvpSelection(){
    localStorage.ovpSelection = el("ovp-select").value;
}

function saveTextFields(){
    localStorage.textFields = JSON.stringify([
        el("text1-input").value,
        el("text2-input").value,
        el("text3-input").value,
        el("text4-input").value
    ]);
}

function saveSelections(){
    localStorage.selections = JSON.stringify(
        [...document.querySelectorAll(".selection")].map(s=>s.value)
    );
}

function processResults(){
    const crew = el("crew-input").value || "";
    const ovp  = el("ovp-select").value || "";

    const texts = [
        el("text1-input").value,
        el("text2-input").value,
        el("text3-input").value,
        el("text4-input").value
    ];
    const sels = [...document.querySelectorAll(".selection")].map(s=>s.value);

    let out = "";
    let bc=[], ppd=[];
    
    texts.forEach((t,i)=>{
        if(!t.trim()) return;
        (sels[i]==="–ë–ß" ? bc : ppd).push(t.trim());
    });

    out = `ü™ñ ${crew} (${ovp})\n`;
    if(bc.length) out += "üéØ –ù–∞ –ë–ß:\n.  " + bc.join("\n.  ") + "\n";
    if(ppd.length) out += "üè† –ù–∞ –ü–ü–î:\n.  " + ppd.join("\n.  ") + "\n";
    out += "üìç 4.5.0";

    el("results").innerHTML = `<pre>${out}</pre>`;
}

async function shareResults(){
    const text = el("results").innerText;
    if(!text) return alert("‚ö†Ô∏è –ù–µ–º–∞—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É");

    if(navigator.share){
        navigator.share({ text });
    } else {
        navigator.clipboard.writeText(text);
        alert("üìã –°–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ –≤ –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É");
    }
}

function goMenu(){
    window.location.href = "./index.html";
}
</script>

</body>
</html>
